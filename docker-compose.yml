services:
  # Qdrant: The High-Performance Vector Search Engine
  # Rationale: Chosen for its low memory footprint (Sustainability) and strong filtering capabilities (Governance).
  qdrant:
    image: qdrant/qdrant:latest
    container_name: axiom_qdrant
    ports:
      - "6333:6333" # HTTP API Port
      - "6334:6334" # gRPC Port
    volumes:
      - ./backend/qdrant_storage:/qdrant/storage
    environment:
      - QDRANT__SERVICE__ENABLE_GRPC=true
    restart: always
    healthcheck:
      test: ["CMD-SHELL", "curl -f http://localhost:6333/readyz || exit 1"]
      interval: 30s
      timeout: 10s
      retries: 3